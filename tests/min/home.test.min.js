"use strict";var album={records:[{title:"Classic Pop",artist:"Michael Jackson Collection",image:"1.jpg",years:"1975-2010",pid:0,id:5,url:"http://www.amazon.com/",subalbum:[{title:"Michael",artist:"Michael Jackson",image:"michael_small.jpg",large_image:"images/michael_large.jpg",year:1988,pid:0,media:"songs/1.mp3",album:"Michael"},{title:"This Is It",artist:"Michael Jackson",image:"thisisit_small.jpg",large_image:"images/thisisit_large.jpg",year:1987,pid:1,media:"songs/2.mp3",album:"Bad"}]},{title:"Modern Pop/R&B",artist:"Bruno Mars and Others",image:"gernade.jpg",years:"1999-2011",pid:1,url:"http://www.amazon.com/",subalbum:[{title:"Gernade",artist:"Bruno Mars",image:"gernade.jpg",large_image:"images/gernade.jpg",year:2010,pid:5,media:"songs/gernade.mp3",url:"http://www.amazon.com/"},{title:"Rolling in the Deep",artist:"Adele",image:"adele.jpg",large_image:"images/adele.jpg",year:2011,pid:6,media:"songs/adele.mp3",url:"http://www.amazon.co.uk/"}]}]};describe("mainController",function(){var e,a;beforeEach(function(){this.addMatchers({toEqualData:function(e){return angular.equals(this.actual,e)}})}),beforeEach(angular.mock.module("angPlayer")),beforeEach(angular.mock.inject(function(t,l,o){a=o,a.expectGET("/data/dataAudio.json").respond(album),e=t.$new(),l("mainController",{$scope:e})})),it("should fetch data for albums",function(){expect(e.albums).toBeUndefined(),a.flush(),expect(e.albums).toEqualData(album.records)}),it("should map routes to controllers",function(){inject(function(e){expect(e.routes["/"].templateUrl).toEqual("/templates/appView.html"),expect(e.routes["/album/:albumId"].templateUrl).toEqual("/templates/albumView.html"),expect(e.routes["/album/:albumId"].controller).toEqual("albumController"),expect(e.routes[null].redirectTo).toEqual("/")})})}),describe("albumController",function(){var e,a;beforeEach(function(){this.addMatchers({toEqualData:function(e){return angular.equals(this.actual,e)}})}),beforeEach(angular.mock.module("angPlayer")),beforeEach(angular.mock.inject(function(t,l,o,i){a=o,a.expectGET("/data/dataAudio.json").respond(album),i.albumId=1,e=t.$new(),l("albumController",{$scope:e})})),it("should fetch data for sub albums1",function(){expect(e.subalbum).toBeUndefined(),a.flush(),expect(e.subalbum).toEqualData(album.records[1].subalbum)})}),describe("kServices tests",function(){var e,a;beforeEach(module(function(e){a={src:void 0,addEventListener:jasmine.createSpy("addEventListener").andCallFake(function(e,t,l){expect(e).toBe("ended"),expect(l).toBe(!1),a.endedFn=t})},e.value("dataProcessor",a)})),beforeEach(inject(function(a){e=a.get("player")})),it("should initialize the player",function(){expect(e.data.length).toBe(0)})});